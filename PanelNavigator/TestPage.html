<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Тест</title>
    <script src="Scripts/jquery-1.7.1.min.js"></script>
    <script src="Pn/paginator.js"></script>
    <link href="Pn/paginator.css" rel="stylesheet" />

    <script type="text/javascript">
        $(function () {
            parserUrl();
            runPN($("#pn1"), 1, 300, 10);
        });

        function GetURLParameter(sParam) {
            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&');
            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] == sParam) {
                    return sParameterName[1];
                }
            }
            return "";
        }


        function parserUrl() {
            var str = GetURLParameter("page") == null ? 1 : GetURLParameter("page");

            runPN($("#pn"), str, 100, 10);
        }

        function runPN(div, currentpage, totalcount, prefix) {
            div.Panelnavigations({
                'totalcount': totalcount,                                                                     //общее количество страниц, не равно 0
                'select': currentpage,                                                                        //текушая страница
                'prefixcount': prefix,                                                                        // количество в блоке показа (не меньше 2,  не больше totalcount)
                'image1': { url: 'Pn/1.png', alt: 'Начало' },                                                 //кнопка перехода (url,альтернативный текст)
                'image2': { url: 'Pn/2.png', alt: 'Предыдущая страница' },
                'image3': { url: 'Pn/3.png', alt: 'Следующая страница' },
                'image4': { url: 'Pn/4.png', alt: 'Конец' },

                'isshowimage': true,                                                                       //показывать кнопки перехода
                'ishiddenbloc': false,                                                                       //скрывать кнопки при пограничных состояниях
                //'appender': "<pre>{0}</pre>",                                                              // код страници ( обязательно в теге)
                //'appender': "<a href='http://localhost:58852/TestPage.html?page={0}&count=100'>{0}</a>",
                'appender': "<a href='#{0}page'>{0}</a>",
                'isget': true,                                                                                //true - если в апендере применяются ссылки <a>
                'eventclick': function (buttonid, page) {                                                     //событие  навигатора( первый параметр - код кнопки, второй выбранная страница)

                    //  alert(buttonid + ":" + page);
                }
            }
          );
        }
    </script>
</head>
<body>
    <div id="pn" class="pn_base"></div>

    <div id="pn1" class="pn_base"></div>

    <div style="width: 700px">

        <pre>  Не замысловатый плагин  для клиента – панель навигации типа пейджинг.<br />  Какие параметры подаем на вход:
  <strong>totalcount</strong> – общее количество страниц.
<br />  <strong>select</strong> – выбранная страница.
<br />  <strong>prefixcount</strong> – количество страниц отображаемое в блоках.(не меньше 2)
  ( префикс должен быть не больше общего количества)
<br />  <strong>image1..4</strong> панели кнопок навигации.<br />  По подробней, четыре кнопки две с левой стороны, две с правой<br />  коды кнопок при нажатии (с лева на право) –1,-2,-3,-4<br />  для каждой кнопки вводи данные виде объекта ( url –адрес картинки<br />  и alt – альтернативный текст), если не желаете картинку – поставьте<br />  в адресе #, вообще если не желаете что бы кнопка жила, не заполняйте ее,<br />    она по умолчанию null.
<br />    <strong>isshowimage</strong> – если по каким то причинам не желаете уже заполненные кнопки<br />    показывать, можно пользоваться этим свойством, по умолчанию – верно.
<br />  <strong>ishiddenbloc</strong> - ну это для фанатов все скрывать, скрывает блок кнопок<br />    при пограничном состоянии выбора.
<br />  <strong>appender</strong> – ну это главная часть, что вы будете вводить в див расположения<br />    итема страницы, если работаем в стиле аджакса можно ввести -&lt;pre&gt;{0}&lt;/pre&gt;<br />  <strong>или еще что, но обязательно в контексте тега, что бы можно было привязать<br />    к этой теме обработчик, по умолчанию стоит &lt;</strong><strong>div&gt;{0}&lt;/t;{0}&lt;/</strong><strong>div&gt;<br />    для не сведущих – {0} при форматировании, заменяется на реальную выбранную страницу.<br />  Если вы не знаете что такое аджакс или не желаете пользоваться  этой<br />  технологией, можно вставить текст ссылки например вида <br />  </strong>&lt;a href='http://localhost:58852/TestPage.html?page={0}&amp;count=100'&gt;{0}&lt;/a&gt;<br />  <strong>или </strong>&lt;a href='<a href="http://localhost:58852/TestPage.html#{0}page'&gt;{0">http://localhost:58852/TestPage.html#{0}page'&gt;{0</a>}  <strong>
  и теперь главное, кто любит ссылки, обязательно включите.
<br />  isget</strong> – обязательный параметр, для работы с ссылками, что бы кнопки<br />  навигации (картинки) работали.
<br />  <strong>eventclick</strong> – событие нажатия панели навигации.<br />    работает если заполнено, работает как для аджакса так и для ссылок.<br />  Первый параметр – код кнопки, второй – реальная выбранная страница.<br />  Для пост запросов, не пытайтесь создавать скрытое поле -<br />  оно уже есть name='selectitem', id='selectitem'</pre>
        <pre><strong>&nbsp;</strong></pre>
        <pre>&nbsp;</pre>
    </div>
</body>
</html>
